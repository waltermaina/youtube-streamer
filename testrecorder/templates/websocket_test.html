<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>

    <h1 id="main">Websocket is working</h1>
    <script>
        number_one = document.getElementById('main')
        var wsStart = 'ws://'
        //var endpoint = wsStart + window.location.host + window.location.pathname
        var endpoint = wsStart + window.location.host + "/ws/app/"
        var socket = new WebSocket(endpoint)
        console.log(endpoint)


        socket.onopen = function (e) {
            console.log('open', e)
            socket.send(1)
        }


        socket.onmessage = function (e) {
            console.log('message', e)
            number_one.innerHTML = e.data
            data = {"Hello": "video frame"}
            //socket.send(1)
            socket.send(data)
        }
    </script>
</body>

</html>